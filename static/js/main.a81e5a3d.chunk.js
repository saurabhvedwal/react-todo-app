(this["webpackJsonpreact-todo-app"]=this["webpackJsonpreact-todo-app"]||[]).push([[0],{146:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},151:function(e,t,a){e.exports=a(381)},156:function(e,t,a){},158:function(e,t,a){},221:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n=a(3),o=a.n(n),s=a(35),r=a.n(s),d=(a(156),a(157),a(48)),c=a(49),l=a(57),i=a(56),u=a(146),m=a.n(u),f=(a(158),function(e){return o.a.createElement("div",{className:e.classes},o.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),"React Todo App")}),p=a(84),g=a.n(p),h=a(147),b=a(20),v=a(50),k=a.n(v),E=function(e){return o.a.createElement("form",{className:"bg-dark form-horizontal p-3",onSubmit:function(t){return e.add(t)}},o.a.createElement("div",{className:"form-group text-left"},o.a.createElement("label",{className:"control-label text-white"},"Add New Task"),o.a.createElement("textarea",{className:"form-control",name:"new_task",value:e.content.task,onChange:function(t){return e.addTask(t.target.value)}})),o.a.createElement("div",{className:"form-group text-left"},o.a.createElement("label",{className:"control-label text-white"},"Due Date"),o.a.createElement(k.a,{className:"form-control",name:"new_due_date",value:e.content.due_date,onChange:function(t,a){return e.addDate(t,a)}})),o.a.createElement("button",{className:"btn btn-primary"},"Save"))},N=a(87),T=a(60),y=(a(220),a(221),function(e){var t=!!e.todo.disabled,a=["btn","btn-sm","rounded-circle"];return t?a.push("btn-primary"):a.push("btn-success"),o.a.createElement("li",{className:"list-group-item"},o.a.createElement("form",{className:"row d-table"},o.a.createElement("div",{className:"col-md-10 text-left d-table-cell"},o.a.createElement("textarea",{className:"form-control",style:{width:"100%"},value:e.todo.task,disabled:t,onChange:function(t){return e.editTask(t.target.value,e.todoIndex)}},e.todo.task),o.a.createElement(k.a,{className:"form-control",name:"due_date",value:e.todo.due_date,id:e.todoIndex,onChange:function(t,a){return e.dateChange(t,a,e.todoIndex)},disabled:t})),o.a.createElement("div",{className:"col-md-2 d-table-cell"},o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{type:"button",className:a.join(" "),onClick:function(){return e.editableClick(e.todoIndex)},style:{margin:"0 5px"}},o.a.createElement(N.a,{icon:t?T.a:T.b})),o.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger rounded-circle",onClick:function(){return e.delete(e.todoIndex)},style:{margin:"0 5px"}},o.a.createElement(N.a,{icon:T.c}))))))}),w=function(e){var t=e.todos,a=Object.keys(t).map((function(a,n){return o.a.createElement(y,{key:a,todo:t[a],editableClick:e.editable,todoIndex:a,dateChange:e.dateChange,editTask:e.editTaskHandler,update:e.updateHandler,delete:e.deleteHandler})}));return o.a.createElement("ul",{className:"list-group",style:{maxHeight:"500px",overflowY:"autp",marginTop:"16px"}},a)},x=a(150),j=a.n(x).a.create({baseURL:"https://react-todo-app-c394a.firebaseio.com/"}),H=(a(238),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={todos:{},form:{due_date:"",task:""},formValid:!0,errorMsg:"Error",successMsg:"",success:!1},e.todoEditToggleHandler=function(t){var a=Object(b.a)({},e.state.todos);a[t].disabled?(a[t].disabled=!a[t].disabled,e.setState((function(e,t){return{todos:a}}))):e.updateTodoHandler(t)},e.dateChangeHandler=function(t,a,n){e.setState((function(a,o){var s=Object(b.a)({},a.todos),r=e.formatDate(t);return s[n].due_date=r,{todos:s}}))},e.addNewTodoHandler=function(t){t.preventDefault(),t.stopPropagation();var a=t.target,n=new FormData(a),o={id:e.state.todos.length+1,task:n.get("new_task"),due_date:n.get("new_due_date")};if(!e.validationCheck(o))return!1;var s=e.state.todos.length+1;j.post("/todos.json",o).then((function(t){200==t.status&&e.setState((function(e,a){var n=Object(b.a)({},e.todos);return o.disabled=!0,o.id=s,n[t.data.name]=o,{todos:n,form:{due_date:"",task:""},success:!0,successMsg:"Added Successfully!"}})),setTimeout((function(){e.setState({success:!1,successMsg:""})}),3e3)})).catch((function(e){console.log(e)}))},e.addTaskHandler=function(t){e.setState((function(e,a){return{form:{task:t,due_date:e.form.due_date}}}))},e.addDateHandler=function(t,a){var n=e.formatDate(t);e.setState((function(e,t){return{form:{task:e.form.task,due_date:n}}}))},e.editTaskHandler=function(t,a){e.setState((function(e,n){var o=Object(b.a)({},e.todos);return o[a]={id:e.todos[a].id,task:t,due_date:e.todos[a].due_date,disabled:e.todos[a].disabled},{todos:o}}))},e.updateTodoHandler=function(t){var a="/todos/"+t+".json",n=e.state.todos[t];if(!e.validationCheck(n,t))return!1;delete n.disabled,j.put(a,n).then((function(a){200==a.status&&(e.setState((function(e,a){var n=Object(b.a)({},e.todos);return n[t].disabled=!0,{todos:n,success:!0,successMsg:"Updated Successfully!"}})),setTimeout((function(){e.setState({success:!1,successMsg:""})}),3e3))})).catch((function(e){console.log(e)}))},e.deleteTodoHandler=function(t){var a="/todos/"+t+".json";j.delete(a).then((function(a){console.log(a),200==a.status&&(e.setState((function(e,a){var n=Object(b.a)({},e.todos);return delete n[t],{todos:n,success:!0,successMsg:"Updated Deleted!"}})),setTimeout((function(){e.setState({success:!1,successMsg:""})}),3e3))})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{add:this.addNewTodoHandler,addDate:this.addDateHandler,addTask:this.addTaskHandler,content:this.state.form}),this.state.formValid?null:o.a.createElement("div",{className:"alert alert-danger text-left"},this.state.errorMsg),this.state.success?o.a.createElement("div",{className:"alert alert-success",style:{marginTop:"5px"}},this.state.successMsg):null,o.a.createElement(w,{todos:this.state.todos,editable:this.todoEditToggleHandler,dateChange:this.dateChangeHandler,editTaskHandler:this.editTaskHandler,updateHandler:this.updateTodoHandler,deleteHandler:this.deleteTodoHandler}))}},{key:"componentDidMount",value:function(){var e=Object(h.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.get("/todos.json").then((function(e){if(200==e.status){var a=Object(b.a)({},e.data);Object.keys(a).map((function(e,t){return a[e].disabled=!0,a[e]})),t.setState({todos:a})}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"formatDate",value:function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate();return[t.getFullYear(),a=a.length<2?"0"+a:a,n=n.length<2?"0"+n:n].join("-")}},{key:"validationCheck",value:function(e,t){return""==e.task.trim()?(this.setState({formValid:!1,errorMsg:"Please fill task field"}),console.log("Not Valid"),!1):""==e.due_date.trim()?(this.setState({formValid:!1,errorMsg:"Please fill due date field"}),console.log("Not Valid"),!1):(this.setState({formValid:!0}),console.log("Valid"),!0)}}]),a}(n.Component)),S=function(e){return o.a.createElement("div",{className:e.classes},o.a.createElement("h1",{className:"padd",style:{marginTop:"16px"}},"Todos"),o.a.createElement("div",{className:"col-md-12",style:{padding:"5px 50px"}},o.a.createElement(H,null)))},C=function(e){return o.a.createElement("main",{className:"App row"},o.a.createElement(f,{classes:"App-header col-md-4"}),o.a.createElement(S,{classes:"col-md-8"}))},_=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(C,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[151,1,2]]]);
//# sourceMappingURL=main.a81e5a3d.chunk.js.map